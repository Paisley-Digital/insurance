<div class="!p-9 w-auto h-auto">
  <mat-card>
    @if (_view() === 'employee') {
    <ng-container [ngTemplateOutlet]="employeeTemplate" />
    } @else if (_view() === 'upload') {
    <ng-container [ngTemplateOutlet]="uploadTemplate" />
    } @else if (_view() === 'entity') {
    <ng-container [ngTemplateOutlet]="entityTemplate" />
    } @else if (_view() === 'employeeKyc') {
    <ng-container [ngTemplateOutlet]="employeeKycTemplate" />
    }
  </mat-card>
</div>

<ng-template #employeeTemplate>
  <table mat-table [dataSource]="dataSource">
    <ng-container matColumnDef="employer">
      <th mat-header-cell *matHeaderCellDef>Employer</th>
      <td mat-cell *matCellDef="let element">{{ element.employer }}</td>
    </ng-container>

    <ng-container matColumnDef="lastUpdate">
      <th mat-header-cell *matHeaderCellDef>Last Update</th>
      <td mat-cell *matCellDef="let element">{{ element.lastUpdate }}</td>
    </ng-container>

    <ng-container matColumnDef="numberOfForms">
      <th mat-header-cell *matHeaderCellDef>Number Of Forms</th>
      <td mat-cell *matCellDef="let element">{{ element.numberOfForms }}</td>
    </ng-container>

    <ng-container matColumnDef="totalEmployees">
      <th mat-header-cell *matHeaderCellDef>Total Employees</th>
      <td mat-cell *matCellDef="let element">{{ element.totalEmployees }}</td>
    </ng-container>

    <ng-container matColumnDef="enrolledMembers">
      <th mat-header-cell *matHeaderCellDef>Enrolled Members</th>
      <td mat-cell *matCellDef="let element">
        {{ element.enrolledMembers }}
      </td>
    </ng-container>

    <ng-container matColumnDef="issues">
      <th mat-header-cell *matHeaderCellDef>Issues</th>
      <td mat-cell *matCellDef="let element">{{ element.issues }}</td>
    </ng-container>

    <ng-container matColumnDef="kycStatus">
      <th mat-header-cell *matHeaderCellDef>KYC Status</th>
      <td mat-cell *matCellDef="let element">
        <span class="status" [ngClass]="element.kycStatus.toLowerCase()">{{
          element.kycStatus
        }}</span>
      </td>
    </ng-container>

    <ng-container matColumnDef="action">
      <th mat-header-cell *matHeaderCellDef></th>
      <td mat-cell *matCellDef="let element">
        <mat-icon svgIcon="chevron-right" (click)="nextStep()"></mat-icon>
      </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
  </table>
  <mat-paginator [hidePageSize]="true" showFirstLastButtons></mat-paginator>
</ng-template>

<ng-template #uploadTemplate>
  <div class="flex flex-col gap-4 min-h-[420px] !p-6">
    <div class="flex items-center space-x-2">
      <mat-icon svgIcon="circle" color="primary" (click)="back()"></mat-icon>
      <span class="font-bold text-lg">Operational Modules Dashboard</span>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-2 !gap-6 mt-8">
      <mat-card
        mat-ripple
        class="flex-1 w-full cursor-pointer p-4 !border !border-gray-300 rounded-2xl"
        (click)="entity()"
      >
        <div class="flex flex-col items-start gap-3">
          <mat-icon svgIcon="entity-KYC" class="!w-[48px] !h-[48px]" />
          <div class="!gap-1">
            <h1 class="font-semibold text-base">Entity KYC</h1>
            <div class="text-sm text-gray-600">
              Manage Entity verification documents and monitor compliance
              status.
            </div>
          </div>
        </div>
      </mat-card>

      <mat-card
        mat-ripple
        class="flex-1 w-full cursor-pointer p-4 !border !border-gray-300 rounded-2xl"
        (click)="employee()"
      >
        <div class="flex flex-col items-start gap-3">
          <mat-icon
            svgIcon="employee-kyc"
            class="!w-[48px] !h-[48px]"
          ></mat-icon>
          <div class="!gap-1">
            <h1 class="font-semibold text-base">Employee KYC</h1>
            <div class="text-sm text-gray-600">
              Add, view, and manage employees associated with registered
              employers.
            </div>
          </div>
        </div>
      </mat-card>
    </div>
  </div>
</ng-template>

<ng-template #entityTemplate>
  <div class="!p-6">
    <div class="flex items-center space-x-2">
      <mat-icon
        svgIcon="circle"
        color="primary"
        (click)="backEntity()"
      ></mat-icon>
      <span class="font-bold text-lg"> KYC Status Overview â€“ Emaar</span>
    </div>
    <table mat-table [dataSource]="entityDataSource">
      <ng-container matColumnDef="employer">
        <th mat-header-cell *matHeaderCellDef>Person</th>
        <td mat-cell *matCellDef="let element">{{ element.person }}</td>
      </ng-container>

      <ng-container matColumnDef="lastUpdate">
        <th mat-header-cell *matHeaderCellDef>PEP</th>
        <td mat-cell *matCellDef="let element">{{ element.pep }}</td>
      </ng-container>

      <ng-container matColumnDef="numberOfForms">
        <th mat-header-cell *matHeaderCellDef>Risk Level</th>
        <td mat-cell *matCellDef="let element">{{ element.riskLevel }}</td>
      </ng-container>

      <ng-container matColumnDef="totalEmployees">
        <th mat-header-cell *matHeaderCellDef>Document Type</th>
        <td mat-cell *matCellDef="let element">{{ element.documentType }}</td>
      </ng-container>

      <ng-container matColumnDef="enrolledMembers">
        <th mat-header-cell *matHeaderCellDef>Submission Date</th>
        <td mat-cell *matCellDef="let element">{{ element.submissionData }}</td>
      </ng-container>

      <ng-container matColumnDef="issues">
        <th mat-header-cell *matHeaderCellDef>Action</th>
        <td mat-cell *matCellDef="let element">{{ element.action }}</td>
      </ng-container>

      <ng-container matColumnDef="kycStatus">
        <th mat-header-cell *matHeaderCellDef>KYC Status</th>
        <td mat-cell *matCellDef="let element">
          <span class="status" [ngClass]="element.kycStatus.toLowerCase()">{{
            element.kycStatus
          }}</span>
        </td>
      </ng-container>

      <ng-container matColumnDef="action">
        <th mat-header-cell *matHeaderCellDef></th>
        <td mat-cell *matCellDef="let element">
          <mat-icon svgIcon="chevron-down"></mat-icon>
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
    </table>
  </div>
  <mat-paginator [hidePageSize]="true" showFirstLastButtons></mat-paginator>
</ng-template>

<ng-template #employeeKycTemplate>
  <div class="!p-9">
    <div class="flex items-center justify-between mb-4">
      <div class="text-lg font-semibold flex items-center gap-2">
        <mat-icon svgIcon="circle" (click)="backEntity()"></mat-icon>
        Emaar Employee Insurance List
      </div>
    </div>

    <mat-tab-group mat-stretch-tabs="false" mat-align-tabs="start">
      <mat-tab>
        <ng-template mat-tab-label>
          <span class="flex items-center gap-1">
            <mat-icon svgIcon="tick"></mat-icon>
            <span>Verified Documents</span>
          </span>
        </ng-template>
        <div class="flex justify-start mb-4 mt-4">
          <button mat-flat-button>
            <mat-icon
              style="height: auto; width: 16px"
              svgIcon="cross"
            ></mat-icon>
            <span> CROSS CHECKING & EXPORT </span>
          </button>
        </div>
        <table
          class="statement-table w-full !p-0"
          [dataSource]="kycDataSource"
          multiTemplateDataRows
          mat-table
        >
          <ng-container matColumnDef="fullName">
            <th mat-header-cell *matHeaderCellDef>Full Name</th>
            <td mat-cell *matCellDef="let transaction">
              <div>{{ transaction.fullName }}</div>
            </td>
          </ng-container>
          <ng-container matColumnDef="dateOfBirth">
            <th mat-header-cell *matHeaderCellDef>Date of Birth</th>
            <td mat-cell *matCellDef="let transaction">
              {{ transaction.dateOfBirth }}
            </td>
          </ng-container>
          <ng-container matColumnDef="nationality">
            <th mat-header-cell *matHeaderCellDef>Nationality</th>
            <td mat-cell *matCellDef="let transaction">
              {{ transaction.nationality }}
            </td>
          </ng-container>
          <ng-container matColumnDef="gender">
            <th mat-header-cell *matHeaderCellDef>Gender</th>
            <td mat-cell *matCellDef="let transaction">
              {{ transaction.gender }}
            </td>
          </ng-container>
          <ng-container matColumnDef="enrolledSince">
            <th mat-header-cell *matHeaderCellDef>enrolledSince</th>
            <td mat-cell *matCellDef="let transaction">
              {{ transaction.enrolledSince }}
            </td>
          </ng-container>
          <ng-container matColumnDef="renevwalDate">
            <th mat-header-cell *matHeaderCellDef>renevwal Date</th>
            <td mat-cell *matCellDef="let transaction">
              {{ transaction.renevwalDate }}
            </td>
          </ng-container>
          <ng-container matColumnDef="action">
            <th class="!w-10" mat-header-cell *matHeaderCellDef></th>
            <td mat-cell *matCellDef="let transaction">
              <button
                mat-icon-button
                (click)="
                  $event.stopPropagation();
                  setSelectedTransaction(transaction.id)
                "
              >
                <mat-icon
                  class="transition-transform duration-150"
                  [class.rotate-180]="selectedTransactionId === transaction.id"
                  [svgIcon]="'chevron-down'"
                />
              </button>
            </td>
          </ng-container>
          <ng-container matColumnDef="expandedDetail">
            <td
              mat-cell
              *matCellDef="let transaction"
              [attr.colspan]="displayedColumnsKyc.length"
            >
              <div
                [@detailExpand]="
                  selectedTransactionId === transaction?.id
                    ? 'expanded'
                    : 'collapsed'
                "
              >
                <div>
                  <div
                    class="flex items-start gap-6 rounded-lg border border-gray-200"
                  >
                    <img
                      ngSrc="./assets/images/passport.jpg"
                      width="122"
                      height="70"
                      class="relative top-10"
                      alt="Passport"
                    />

                    <div class="grid grid-cols-2 gap-x-8 gap-y-2 w-full">
                      <div class="flex items-center">
                        <p class="text-[#232730] font-medium mr-2">
                          Document Type:
                        </p>
                        <p class="text-[#232730] font-bold">Passport</p>
                      </div>
                      <div class="flex items-center">
                        <p class="text-[#232730] font-medium mr-2">
                          Issuing Country:
                        </p>
                        <p class="text-[#232730] font-bold">Luxembourg</p>
                      </div>
                      <div class="flex items-center">
                        <p class="text-[#232730] font-medium mr-2">
                          Expiry Date:
                        </p>
                        <p class="text-green-600 font-bold">18/05/2026</p>
                      </div>
                      <div class="flex items-center">
                        <p class="text-[#232730] font-medium mr-2">
                          ID Number:
                        </p>
                        <p class="text-[#232730] font-bold">KCN5C3T9</p>
                      </div>
                      <div class="flex items-center">
                        <p class="text-[#232730] font-medium mr-2">
                          Place of Birth:
                        </p>
                        <p class="text-[#232730] font-bold">Shiraz</p>
                      </div>
                      <div class="flex items-center">
                        <p class="text-[#232730] font-medium mr-2">
                          Holder's Signature:
                        </p>
                        <p class="text-[#232730] font-bold">Present</p>
                      </div>
                    </div>
                  </div>

                  <ng-container>
                    <mat-divider></mat-divider>
                    <div
                      class="flex items-start gap-6 p-4 rounded-lg border border-gray-200"
                    >
                      <img
                        ngSrc="./assets/images/visa2.jpg"
                        width="122"
                        height="70"
                        class="relative top-10"
                        alt="Passport"
                      />

                      <div class="grid grid-cols-2 gap-x-8 gap-y-2 w-full">
                        <div class="flex items-center">
                          <p class="text-[#232730] font-medium mr-2">
                            Document Type:
                          </p>
                          <p class="text-[#232730] font-bold">Golden Visa</p>
                        </div>
                        <div class="flex items-center">
                          <p class="text-[#232730] font-medium mr-2">
                            Passport Number:
                          </p>
                          <p class="text-[#232730] font-bold">KCN5C3T9</p>
                        </div>
                        <div class="flex items-center">
                          <p class="text-[#232730] font-medium mr-2">
                            Expiry Date:
                          </p>
                          <p class="text-green-600 font-bold">09/11/2033</p>
                        </div>
                        <div class="flex items-center">
                          <p class="text-[#232730] font-medium mr-2">
                            ID Number:
                          </p>
                          <p class="text-[#232730] font-bold">
                            784198226053654
                          </p>
                        </div>
                        <div class="flex items-center">
                          <p class="text-[#232730] font-medium mr-2">
                            Occupation:
                          </p>
                          <p class="text-[#232730] font-bold">Vice President</p>
                        </div>
                        <div class="flex items-center">
                          <p class="text-[#232730] font-medium mr-2">
                            Sponsor/Employer:
                          </p>
                          <p class="text-[#232730] font-bold">
                            Investors,Entrepreneurs, Specialized
                          </p>
                        </div>
                      </div>
                    </div>
                  </ng-container>

                  <ng-container>
                    <mat-divider></mat-divider>
                    <div class="pb-2 pt-4 space-y-6">
                      <div
                        class="flex items-start gap-6 p-4 rounded-lg border border-gray-200"
                      >
                        <img
                          ngSrc="./assets/images/visa.jpg"
                          width="122"
                          height="70"
                          class="relative top-10"
                          alt="Passport"
                        />

                        <div class="grid grid-cols-2 gap-x-8 gap-y-2 w-full">
                          <div class="flex items-center">
                            <p class="text-[#232730] font-medium mr-2">
                              Document Type:
                            </p>
                            <p class="text-[#232730] font-bold">Emirates ID</p>
                          </div>
                          <div class="flex items-center">
                            <p class="text-[#232730] font-medium mr-2">
                              Issuing Place:
                            </p>
                            <p class="text-[#232730] font-bold">
                              Not specified
                            </p>
                          </div>
                          <div class="flex items-center">
                            <p class="text-[#232730] font-medium mr-2">
                              Expiry Date:
                            </p>
                            <p class="text-green-600 font-bold">18/05/2026</p>
                          </div>
                          <div class="flex items-center">
                            <p class="text-[#232730] font-medium mr-2">
                              ID Number:
                            </p>
                            <p class="text-[#232730] font-bold">
                              784-1982-2605365-4
                            </p>
                          </div>
                          <div class="flex items-center">
                            <p class="text-[#232730] font-medium mr-2">
                              Occupation:
                            </p>
                            <p class="text-[#232730] font-bold">
                              Vice President
                            </p>
                          </div>
                        </div>
                      </div>
                    </div>
                  </ng-container>
                </div>
              </div>
            </td>
          </ng-container>
          <tr mat-header-row *matHeaderRowDef="displayedColumnsKyc"></tr>
          <tr
            mat-row
            *matRowDef="let transaction; columns: displayedColumnsKyc"
            class="transaction-row"
            [class.transaction-expanded-row]="
              selectedTransactionId === transaction.id
            "
            (click)="setSelectedTransaction(transaction.id)"
          ></tr>
          <tr
            mat-row
            *matRowDef="let row; columns: ['expandedDetail']"
            class="transaction-detail-row"
          ></tr>
        </table>
        <mat-paginator
          [hidePageSize]="true"
          showFirstLastButtons
        ></mat-paginator>
      </mat-tab>

      <mat-tab>
        <ng-template mat-tab-label>
          <span class="flex items-center gap-1">
            <mat-icon svgIcon="info" class="text-yellow-600"></mat-icon>
            <span>Expiring Soon</span>
          </span>
        </ng-template>
        <div class="flex justify-start mb-4 mt-4">
          <button mat-flat-button>
            <mat-icon class="h-auto w-4" svgIcon="cross"></mat-icon>
            <span> CROSS CHECKING & EXPORT </span>
          </button>
        </div>
        <table
          class="statement-table w-full !p-0"
          [dataSource]="kycExpireDataSource"
          multiTemplateDataRows
          mat-table
        >
          <ng-container matColumnDef="fullName">
            <th mat-header-cell *matHeaderCellDef>Full Name</th>
            <td mat-cell *matCellDef="let transaction">
              <div>{{ transaction.fullName }}</div>
            </td>
          </ng-container>
          <ng-container matColumnDef="dateOfBirth">
            <th mat-header-cell *matHeaderCellDef>Date of Birth</th>
            <td mat-cell *matCellDef="let transaction">
              {{ transaction.dateOfBirth }}
            </td>
          </ng-container>
          <ng-container matColumnDef="nationality">
            <th mat-header-cell *matHeaderCellDef>Nationality</th>
            <td mat-cell *matCellDef="let transaction">
              {{ transaction.nationality }}
            </td>
          </ng-container>
          <ng-container matColumnDef="gender">
            <th mat-header-cell *matHeaderCellDef>Gender</th>
            <td mat-cell *matCellDef="let transaction">
              {{ transaction.gender }}
            </td>
          </ng-container>
          <ng-container matColumnDef="remainingValidity">
            <th mat-header-cell *matHeaderCellDef>
              <div class="flex gap-2 justify-center items-center">
                <span> Remaining Validity </span>
                <mat-icon svgIcon="warning" />
              </div>
            </th>
            <td mat-cell *matCellDef="let transaction">
              {{ transaction.remainingValidity }}
            </td>
          </ng-container>
          <ng-container matColumnDef="action">
            <th class="!w-10" mat-header-cell *matHeaderCellDef></th>
            <td mat-cell *matCellDef="let transaction">
              <button
                mat-icon-button
                (click)="
                  $event.stopPropagation();
                  setSelectedTransactionExpired(transaction.id)
                "
              >
                <mat-icon
                  class="transition-transform duration-150"
                  [class.rotate-180]="
                    selectedTransactionExpiredId === transaction.id
                  "
                  [svgIcon]="'chevron-down'"
                />
              </button>
            </td>
          </ng-container>
          <ng-container matColumnDef="expandedDetail">
            <td
              mat-cell
              *matCellDef="let transaction"
              [attr.colspan]="displayedColumnsKyc.length"
            >
              <div
                [@detailExpand]="
                  selectedTransactionExpiredId === transaction?.id
                    ? 'expanded'
                    : 'collapsed'
                "
              >
                <div>
                  <div
                    class="flex items-start gap-6 rounded-lg border border-gray-200"
                  >
                    <img
                      ngSrc="./assets/images/passport.jpg"
                      width="122"
                      height="70"
                      class="relative top-10"
                      alt="Passport"
                    />

                    <div class="grid grid-cols-2 gap-x-8 gap-y-2 w-full">
                      <div class="flex items-center">
                        <p class="text-[#232730] font-medium mr-2">
                          Document Type:
                        </p>
                        <p class="text-[#232730] font-bold">Passport</p>
                      </div>
                      <div class="flex items-center">
                        <p class="text-[#232730] font-medium mr-2">
                          Issuing Country:
                        </p>
                        <p class="text-[#232730] font-bold">Luxembourg</p>
                      </div>
                      <div class="flex items-center">
                        <p class="text-[#232730] font-medium mr-2">
                          Expiry Date:
                        </p>
                        <p class="text-green-600 font-bold">18/05/2026</p>
                      </div>
                      <div class="flex items-center">
                        <p class="text-[#232730] font-medium mr-2">
                          ID Number:
                        </p>
                        <p class="text-[#232730] font-bold">KCN5C3T9</p>
                      </div>
                      <div class="flex items-center">
                        <p class="text-[#232730] font-medium mr-2">
                          Place of Birth:
                        </p>
                        <p class="text-[#232730] font-bold">Shiraz</p>
                      </div>
                      <div class="flex items-center">
                        <p class="text-[#232730] font-medium mr-2">
                          Holder's Signature:
                        </p>
                        <p class="text-[#232730] font-bold">Present</p>
                      </div>
                    </div>
                  </div>

                  <ng-container>
                    <mat-divider></mat-divider>
                    <div
                      class="flex items-start gap-6 p-4 rounded-lg border border-gray-200"
                    >
                      <img
                        ngSrc="./assets/images/visa2.jpg"
                        width="122"
                        height="70"
                        class="relative top-10"
                        alt="Passport"
                      />

                      <div class="grid grid-cols-2 gap-x-8 gap-y-2 w-full">
                        <div class="flex items-center">
                          <p class="text-[#232730] font-medium mr-2">
                            Document Type:
                          </p>
                          <p class="text-[#232730] font-bold">Residency Visa</p>
                        </div>
                        <div class="flex items-center">
                          <p class="text-[#232730] font-medium mr-2">
                            Passport Number:
                          </p>
                          <p class="text-[#232730] font-bold">KCN5C3T9</p>
                        </div>
                        <div class="flex items-center">
                          <p class="text-[#232730] font-medium mr-2">
                            Expiry Date:
                          </p>
                          <div class="flex justify-center items-center gap-2">
                            <p class="text-yellow-600 font-bold">09/03/2025</p>
                            <mat-icon svgIcon="warning" />
                          </div>
                        </div>
                        <div class="flex items-center">
                          <p class="text-[#232730] font-medium mr-2">
                            ID Number:
                          </p>
                          <p class="text-[#232730] font-bold">
                            784198226053654
                          </p>
                        </div>
                        <div class="flex items-center">
                          <p class="text-[#232730] font-medium mr-2">
                            Occupation:
                          </p>
                          <p class="text-[#232730] font-bold">Vice President</p>
                        </div>
                        <div class="flex items-center">
                          <p class="text-[#232730] font-medium mr-2">
                            Sponsor/Employer:
                          </p>
                          <p class="text-[#232730] font-bold">
                            Investors,Entrepreneurs, Specialized
                          </p>
                        </div>
                      </div>
                    </div>
                  </ng-container>

                  <ng-container>
                    <mat-divider></mat-divider>
                    <div class="pb-2 pt-4 space-y-6">
                      <div
                        class="flex items-start gap-6 p-4 rounded-lg border border-gray-200"
                      >
                        <img
                          ngSrc="./assets/images/visa.jpg"
                          width="122"
                          height="70"
                          class="relative top-10"
                          alt="Passport"
                        />

                        <div class="grid grid-cols-2 gap-x-8 gap-y-2 w-full">
                          <div class="flex items-center">
                            <p class="text-[#232730] font-medium mr-2">
                              Document Type:
                            </p>
                            <p class="text-[#232730] font-bold">Emirates ID</p>
                          </div>
                          <div class="flex items-center">
                            <p class="text-[#232730] font-medium mr-2">
                              Issuing Place:
                            </p>
                            <p class="text-[#232730] font-bold">
                              Not specified
                            </p>
                          </div>
                          <div class="flex items-center">
                            <p class="text-[#232730] font-medium mr-2">
                              Expiry Date:
                            </p>
                            <p class="text-green-600 font-bold">18/05/2026</p>
                          </div>
                          <div class="flex items-center">
                            <p class="text-[#232730] font-medium mr-2">
                              ID Number:
                            </p>
                            <p class="text-[#232730] font-bold">
                              784-1982-2605365-4
                            </p>
                          </div>
                          <div class="flex items-center">
                            <p class="text-[#232730] font-medium mr-2">
                              Occupation:
                            </p>
                            <p class="text-[#232730] font-bold">
                              Vice President
                            </p>
                          </div>
                        </div>
                      </div>
                    </div>
                  </ng-container>
                </div>
              </div>
            </td>
          </ng-container>
          <tr mat-header-row *matHeaderRowDef="displayedColumnsKycExpire"></tr>
          <tr
            mat-row
            *matRowDef="let transaction; columns: displayedColumnsKycExpire"
            class="transaction-row"
            [class.transaction-expanded-row]="
              selectedTransactionExpiredId === transaction.id
            "
            (click)="setSelectedTransaction(transaction.id)"
          ></tr>
          <tr
            mat-row
            *matRowDef="let row; columns: ['expandedDetail']"
            class="transaction-detail-row"
          ></tr>
        </table>
        <mat-paginator
          [hidePageSize]="true"
          showFirstLastButtons
        ></mat-paginator>
      </mat-tab>

      <mat-tab>
        <ng-template mat-tab-label>
          <span class="flex items-center gap-1">
            <mat-icon svgIcon="warn"></mat-icon>
            <span>Rejected</span>
          </span>
        </ng-template>

        <div class="flex justify-start mb-4 mt-4">
          <button mat-flat-button>
            <mat-icon class="h-auto w-4" svgIcon="cross"></mat-icon>
            <span> CROSS CHECKING & EXPORT </span>
          </button>
        </div>

        <table
          class="statement-table w-full !p-0"
          [dataSource]="kycRejectedDataSource"
          multiTemplateDataRows
          mat-table
        >
          <ng-container matColumnDef="fullName">
            <th mat-header-cell *matHeaderCellDef>Full Name</th>
            <td mat-cell *matCellDef="let transaction">
              <div>{{ transaction.fullName }}</div>
            </td>
          </ng-container>
          <ng-container matColumnDef="dateOfBirth">
            <th mat-header-cell *matHeaderCellDef>Date of Birth</th>
            <td mat-cell *matCellDef="let transaction">
              {{ transaction.dateOfBirth }}
            </td>
          </ng-container>
          <ng-container matColumnDef="nationality">
            <th mat-header-cell *matHeaderCellDef>Nationality</th>
            <td mat-cell *matCellDef="let transaction">
              {{ transaction.nationality }}
            </td>
          </ng-container>
          <ng-container matColumnDef="gender">
            <th mat-header-cell *matHeaderCellDef>Gender</th>
            <td mat-cell *matCellDef="let transaction">
              {{ transaction.gender }}
            </td>
          </ng-container>
          <ng-container matColumnDef="rejectionReason">
            <th mat-header-cell *matHeaderCellDef>Rejection Reason</th>
            <td mat-cell *matCellDef="let transaction">
              {{ transaction.rejectionReason }}
            </td>
          </ng-container>
          <ng-container matColumnDef="action">
            <th class="!w-10" mat-header-cell *matHeaderCellDef></th>
            <td mat-cell *matCellDef="let transaction">
              <button
                mat-icon-button
                (click)="
                  $event.stopPropagation();
                  setSelectedTransactionRejected(transaction.id)
                "
              >
                <mat-icon
                  class="transition-transform duration-150"
                  [class.rotate-180]="
                    selectedTransactionRejectedId === transaction.id
                  "
                  [svgIcon]="'chevron-down'"
                />
              </button>
            </td>
          </ng-container>
          <ng-container matColumnDef="expandedDetail">
            <td
              mat-cell
              *matCellDef="let transaction"
              [attr.colspan]="displayedColumnsKyc.length"
            >
              <div
                [@detailExpand]="
                  selectedTransactionRejectedId === transaction?.id
                    ? 'expanded'
                    : 'collapsed'
                "
              >
                <div>
                  <div
                    class="flex items-start gap-6 rounded-lg border border-gray-200"
                  >
                    <img
                      ngSrc="./assets/images/passport.jpg"
                      width="122"
                      height="70"
                      class="relative top-10"
                      alt="Passport"
                    />

                    <div class="grid grid-cols-2 gap-x-8 gap-y-2 w-full">
                      <div class="flex items-center">
                        <p class="text-[#232730] font-medium mr-2">
                          Document Type:
                        </p>
                        <p class="text-[#232730] font-bold">Passport</p>
                      </div>
                      <div class="flex items-center">
                        <p class="text-[#232730] font-medium mr-2">
                          Issuing Country:
                        </p>
                        <p class="text-[#232730] font-bold">Luxembourg</p>
                      </div>
                      <div class="flex items-center">
                        <p class="text-[#232730] font-medium mr-2">
                          Expiry Date:
                        </p>
                        <p class="text-green-600 font-bold">18/05/2026</p>
                      </div>
                      <div class="flex items-center">
                        <p class="text-[#232730] font-medium mr-2">
                          ID Number:
                        </p>
                        <p class="text-[#232730] font-bold">KCN5C3T9</p>
                      </div>
                      <div class="flex items-center">
                        <p class="text-[#232730] font-medium mr-2">
                          Place of Birth:
                        </p>
                        <p class="text-[#232730] font-bold">Shiraz</p>
                      </div>
                      <div class="flex items-center">
                        <p class="text-[#232730] font-medium mr-2">
                          Holder's Signature:
                        </p>
                        <p class="text-[#232730] font-bold">Present</p>
                      </div>
                    </div>
                  </div>

                  <ng-container>
                    <mat-divider></mat-divider>
                    <div
                      class="flex items-start gap-6 rounded-lg border border-gray-200"
                    >
                      <div class="relative right-8">
                        <img
                          ngSrc="./assets/images/filter.svg"
                          width="122"
                          height="70"
                          class="relative top-10"
                          alt="Passport"
                        />
                        <img
                          ngSrc="./assets/images/stamp.svg"
                          class="relative bottom-20 left-12"
                          width="75"
                          height="70"
                        />
                      </div>
                      <div
                        class="grid grid-cols-2 gap-x-8 gap-y-2 w-full relative right-[2.5rem]"
                      >
                        <div class="flex items-center">
                          <p class="text-[#232730] font-medium mr-2">
                            Document Type:
                          </p>
                          <p class="text-[#232730] font-bold">-</p>
                        </div>
                        <div class="flex items-center">
                          <p class="text-[#232730] font-medium mr-2">
                            Passport Number:
                          </p>
                          <p class="text-[#232730] font-bold">-</p>
                        </div>
                        <div class="flex items-center">
                          <p class="text-[#232730] font-medium mr-2">
                            Expiry Date:
                          </p>
                          <p class="text-green-600 font-bold">-</p>
                        </div>
                        <div class="flex items-center">
                          <p class="text-[#232730] font-medium mr-2">
                            ID Number:
                          </p>
                          <p class="text-[#232730] font-bold">-</p>
                        </div>
                        <div class="flex items-center">
                          <p class="text-[#232730] font-medium mr-2">
                            Occupation:
                          </p>
                          <p class="text-[#232730] font-bold">-</p>
                        </div>
                        <div class="flex items-center">
                          <p class="text-[#232730] font-medium mr-2">
                            Sponsor/Employer:
                          </p>
                          <p class="text-[#232730] font-bold">-</p>
                        </div>
                      </div>
                    </div>
                  </ng-container>

                  <ng-container>
                    <mat-divider></mat-divider>
                    <div>
                      <div
                        class="flex items-start gap-6 rounded-lg border border-gray-200"
                      >
                        <img
                          ngSrc="./assets/images/visa.jpg"
                          width="122"
                          height="70"
                          class="relative top-10"
                          alt="Passport"
                        />

                        <div class="grid grid-cols-2 gap-x-8 gap-y-2 w-full">
                          <div class="flex items-center">
                            <p class="text-[#232730] font-medium mr-2">
                              Document Type:
                            </p>
                            <p class="text-[#232730] font-bold">Emirates ID</p>
                          </div>
                          <div class="flex items-center">
                            <p class="text-[#232730] font-medium mr-2">
                              Issuing Place:
                            </p>
                            <p class="text-[#232730] font-bold">
                              Not specified
                            </p>
                          </div>
                          <div class="flex items-center">
                            <p class="text-[#232730] font-medium mr-2">
                              Expiry Date:
                            </p>
                            <p class="text-green-600 font-bold">18/05/2026</p>
                          </div>
                          <div class="flex items-center">
                            <p class="text-[#232730] font-medium mr-2">
                              ID Number:
                            </p>
                            <p class="text-[#232730] font-bold">
                              784-1982-2605365-4
                            </p>
                          </div>
                          <div class="flex items-center">
                            <p class="text-[#232730] font-medium mr-2">
                              Occupation:
                            </p>
                            <p class="text-[#232730] font-bold">
                              Vice President
                            </p>
                          </div>
                        </div>
                      </div>
                    </div>
                  </ng-container>
                </div>
              </div>
            </td>
          </ng-container>
          <tr
            mat-header-row
            *matHeaderRowDef="displayedColumnsKycRejected"
          ></tr>
          <tr
            mat-row
            *matRowDef="let transaction; columns: displayedColumnsKycRejected"
            class="transaction-row"
            [class.transaction-expanded-row]="
              selectedTransactionRejectedId === transaction.id
            "
            (click)="setSelectedTransactionRejected(transaction.id)"
          ></tr>
          <tr
            mat-row
            *matRowDef="let row; columns: ['expandedDetail']"
            class="transaction-detail-row"
          ></tr>
        </table>
        <mat-paginator
          [hidePageSize]="true"
          showFirstLastButtons
        ></mat-paginator>
      </mat-tab>
    </mat-tab-group>

    <!-- <div class="flex justify-start mb-4">
      <button mat-raised-button color="primary" class="cross-check-btn">
        <mat-icon
          style="height: auto; width: 16px"
          svgIcon="white-check"
        ></mat-icon>
        <span> CROSS CHECKING & EXPORT </span>
      </button>
    </div> -->

    <!-- <table
      style="padding: 0"
      mat-table
      [dataSource]="kycDataSource"
      class="mat-elevation-z8"
    >
      <ng-container matColumnDef="fullName">
        <th mat-header-cell *matHeaderCellDef>Full Name</th>
        <td mat-cell *matCellDef="let element">{{ element.fullName }}</td>
      </ng-container>

      <ng-container matColumnDef="dateOfBirth">
        <th mat-header-cell *matHeaderCellDef>Date of Birth</th>
        <td mat-cell *matCellDef="let element">{{ element.dateOfBirth }}</td>
      </ng-container>

      <ng-container matColumnDef="nationality">
        <th mat-header-cell *matHeaderCellDef>Nationality</th>
        <td mat-cell *matCellDef="let element">{{ element.nationality }}</td>
      </ng-container>

      <ng-container matColumnDef="gender">
        <th mat-header-cell *matHeaderCellDef>Gender</th>
        <td mat-cell *matCellDef="let element">{{ element.gender }}</td>
      </ng-container>

      <ng-container matColumnDef="enrolledSince">
        <th mat-header-cell *matHeaderCellDef>Enrolled Since</th>
        <td mat-cell *matCellDef="let element">{{ element.enrolledSince }}</td>
      </ng-container>

      <ng-container matColumnDef="renevwalDate">
        <th mat-header-cell *matHeaderCellDef>Renewal Date</th>
        <td mat-cell *matCellDef="let element">{{ element.renevwalDate }}</td>
      </ng-container>

      <ng-container matColumnDef="action">
        <th mat-header-cell *matHeaderCellDef></th>
        <td mat-cell *matCellDef="let element">
          <mat-icon svgIcon="chevron-down"></mat-icon>
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumnsKyc"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumnsKyc"></tr>
    </table>

    <mat-paginator [hidePageSize]="true" showFirstLastButtons></mat-paginator> -->
  </div>
</ng-template>
